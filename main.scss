@import "variables.scss";

@mixin global-sidepadding($sidepad: $mobile-sidepadding){ /*devrait changer en fonction du bp*/
	padding: 0 $sidepad;
}

/*Accueil et Restaurants*/
@mixin clickable_btn($isHovered: "") {
	cursor: pointer;
	color:white;
	border-radius: 30px;
	font-size: 1.1em;
	border: none;
	background: linear-gradient($secondary-color,$primary-color);
	opacity: 1;
	padding: 15px 25px;
	box-shadow: 0 5px 5px $shadow-light;

	@if $isHovered != ""{
		opacity:0.75;
		box-shadow: 0 5px 5px darken($shadow-light,10%);
	}
}

@mixin full-heart-base{
	position: absolute;
	top:0;
	left:0;
	opacity: 0;
	color: $primary-color;
	transition: opacity 400ms;
}

@mixin overflowingtext{
	white-space:nowrap;
	overflow:hidden;
	text-overflow: ellipsis;
}

@mixin globalfooter{
	@include global-sidepadding();
	background-color: black;
	color: white;
}

@mixin center-text{
	text-align: center;
}

@mixin restaurant-appname-display
{
	font-family: $title-font;
	font-weight: normal; /*La police shrikhand est déjà relativement bold*/
	margin: 0;
}

body{
	margin:0;
	font-family: $text-font;
}


ul{
	padding-left: 0;
	list-style-type: none;
}

img{
	position:relative;
	height: 260px;
	object-fit: cover;
	width:100%;
}

#reservation{
	@include global-sidepadding();
	@include center-text();
}

header{
	display: flex; /*Pour les pages de restaurants*/
	position: relative;
	align-items: center;
	@include global-sidepadding();
	padding-top: 20px;
	padding-bottom:10px;
	text-align: center;
	box-shadow: 0 5px 5px darken($shadow-light,10%);
	i{
		color:black;
	}
	h1{
		@include restaurant-appname-display();
		margin: auto;
	}
}

.localisation{
	@include global-sidepadding();
	display: flex;
	background-color: $shadow-light;
	justify-content: center;
	align-items: center;
	i{
		width:30px;
	}
}

/* Bouton commande sur toutes les pages de menu*/
button{
	@include clickable_btn();
	margin-bottom: 85px;
	margin-top:35px;
	&:hover{
		@include clickable_btn("hovered");
	}
}

.img-container{
	margin-top:0;
}

.main{
	/*Pages des restaurants*/
	&__restaurants{
		position:relative;
		top:$decalage-top-img;
		margin-bottom:$decalage-top-img; /*Solution pour contrer la position relative, sinon on créé un whitespace supplémentaire*/
		border-radius: 50px 50px 0 0;
		background-color: $light-background;
		h1{
			@include restaurant-appname-display();
			display: flex;
			padding: 40px 35px 35px 20px ;
			font-size:1.7em;
			justify-content: space-between;
			align-items: baseline;
			.far{
				position:relative;
				.fas{
					@include full-heart-base();
				}
			}
		}
		#btn_commander{
			text-align: center;
		}
		section{
			padding-bottom: 35px;
		}
	}
	&__title{
		margin-left:20px;
		h2{
			margin-bottom: 0;
			margin-top:0;
			font-weight: normal;
		}
		.undertitle{
			margin-top:5px;
			margin-bottom: 15px;
			height:3px;
			width:40px;
			background-color: $tertiary-color;
		}
	}
	&__item{
		background-color: white;
		box-shadow: 0 0 10px $shadow-light;
		margin: 15px;
		border-radius: 20px;
		padding: 15px 25px 15px 15px;
		position: relative;
		z-index:2;
		overflow: hidden;
		h3{
			@include overflowingtext();
			margin:0;
		}
		&__description{
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-top:5px;
			transition: margin 300ms;
			p{
				margin: 0;
				width:87%;
				@include overflowingtext();
				font-size: 15px;
			}
			.prix{
				font-weight: bold;
			}
		}
		.validation{
			background-color: $tertiary-color;
			position:absolute;
			z-index: 1;
			right: 0;
			top:0;
			width:$validationdiv-width;
			height: 100%;
			border-radius: 0 20px 20px 0;

			display: flex; /*Affichage de l'icone centrale*/
			align-items: center;
			justify-content: center;
			color: white;
			overflow: hidden;

			transform-origin: right;
			transform: scaleX(0);
			transition: transform 300ms ease-in-out;
			i{
				transition: transform 300ms ease-out;
				transition-delay: 200ms;
			}
		}
		&:hover{ 
				.main__item__description{ 
					margin-right: $validationdiv-width;
				}
				.validation{
					transform:scaleX(1);
					& > i{
						transform:rotate(360deg);
					}
				}
				
		}
	}
	#reservation{
		background-color: $light-background;
		@include global-sidepadding();
		padding-top: 45px;
		padding-bottom:55px;
		h2{
			margin-top: 0;
		}
		input{
			@include clickable_btn();
			&:hover{
				@include clickable_btn("hovered");
			}
		}
	}
	#fonctionnement{
		@include global-sidepadding();
		padding-top: 50px; /*COULD BE ????*/
		padding-bottom:55px;
		h2{
			margin-top:0;
			margin-bottom: 25px;
		}
		div{
			display: flex;
			align-items: center;
			position: relative;
			height:70px;
			line-height: 70px;
			border-radius: 20px;
			background-color: $light-background;
			box-shadow: 0 5px 10px $shadow-light;
			margin-bottom: 25px;
			margin-left: 10px;
			padding-left:35px;
			i{
				color:grey;
				width:40px;
			}
			&:hover{
				background-color: lighten($primary-color, 35%);
				i{
					color:$primary-color;
				}
			}
			p{
				position: absolute;
				left:-10px;
				text-align: center;
				line-height: 20px;
				height: 20px;
				width:20px;
				margin-top:0;
				background-color: $primary-color;
				border-radius: 100px;	
				color:white;
				font-size: 12px;			
			}
		}
	}
	#restaurants{
		background-color: $light-background;
		@include global-sidepadding();
		padding-bottom: 55px;
		padding-top:50px; /*COULD BE ???*/
		h2{
			margin-top:0;
			margin-bottom:30px;
		}
		.carte_restaurant{
			height:$accueil-mobile-restautantheight; /*devrait potentiellement changer selon bp*/
			background-color: white;
			border-radius: 20px;
			box-shadow:0 0 10px $shadow-light;
			margin-bottom: 20px;
			position: relative;
			a{
				color: black;
				text-decoration: none;
				&:hover{
					color: $secondary-color;
				}
				
			}
			i{
				position: absolute;
				right:25px;
				bottom:25px;
			}

			.far{
				transition: opacity 400ms;
				&:hover{
					opacity: 0;
					& > .fas{
						opacity: 1;
					}
				}
			}
			.fas{ /** le coeur qui doit se remplir**/
				@include full-heart-base();
			}
			p{
				margin-bottom: 0;
			}
			img{
				top:0;
				height:$homepage-mobile-imgheight; /*devrait changer selon bp*/
				width:100%;
				border-radius: 20px 20px 0 0;
				object-fit: cover;
			}
			&__txt{
				@include global-sidepadding(15px);
				padding-top:15px;
				h4 {
					margin:0;
				}
				p{
					margin-top:5px;
				}

			}
			&__nv
			{
				position: absolute;
				background-color: $tertiary-color;
				color: darken($tertiary-color,45%);
				border-radius: 5px;
				width: 23.5%;
				height: 30px;
				top:15px;
				right:4%;
				text-align: center;
				line-height: 30px;
			}
		}
	}

}

footer{
	@include globalfooter();
	padding-bottom: 30px;
	h3{
		font-family: "Shrikhand";
		margin-top: 0;
		padding-top:25px;
	}
	ul{
		li{
			margin-bottom: 10px;
			i{
				width:25px;
			}
			a{
				color: white;
				text-decoration: none;
				&:hover{
					color:$primary-color;
				}
			}
			em{
				font-weight: bold;
				font-style: none;
			}
		}
	}
}

